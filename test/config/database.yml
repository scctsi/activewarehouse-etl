<% raise "ENV['DB'] not specified!" unless ENV['DB'] %>

# a bit hackish - tests would require a refactoring instead

mysql2: &mysql2
  host: 127.0.0.1
  adapter: mysql2
  database: activewarehouse_etl_test
  username: root
  encoding: utf8
  local_infile: true
  # the tests would require a rework: disabling casting for now
  cast: false

postgresql: &postgresql
  host: localhost
  adapter: postgresql
  database: activewarehouse_etl_test
  username: postgres
  encoding: unicode
  password: password
  pool: 5
  timeout: 5000
# TODO - refactor test to avoid using 2 databases maybe?
operational_database:
  <<: *<%= ENV['DB'] %>

data_warehouse:
  <<: *<%= ENV['DB'] %>

etl_execution:
  <<: *<%= ENV['DB'] %>
  database: etl_execution
